(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{186:function(e,t,a){e.exports=a(438)},195:function(e,t,a){},198:function(e,t,a){},200:function(e,t,a){},206:function(e,t,a){},208:function(e,t,a){},210:function(e,t,a){},433:function(e,t,a){},435:function(e,t,a){},438:function(e,t,a){"use strict";a.r(t);a(187),a(111),a(189),a(190);var n=a(30),o=a.n(n),s=(a(195),a(0)),l=a.n(s),r=a(443),i=a(17),c=a(18),u=a(20),p=a(19),m=a(21),h=(a(198),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"header"},l.a.createElement("h3",null,l.a.createElement("img",{src:"https://www.queensu.ca/sites/default/files/assets/pages/QueensLogo_black.png",width:"100px",alt:"queens logo"}),"HOUSING SEARCH"))}}]),t}(s.Component)),d=a(444),g=a(441),y=a(445),f=a(175),b=(a(200),a(79)),v=a(440),E=a(80),w=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.house,t=e.address,a=e.img,n=e.url,o=e.beds,s=e.bath,r=e.price,i=e.agency,c=e._id;return"mackinnon development"===i&&(t="".concat(t," - $").concat(r,"/BDRM ")),l.a.createElement("li",{className:this.props.single?"card-item":"cards-item"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-image",style:{backgroundImage:"url(".concat(a,")")}}),l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"card-title"},t),l.a.createElement("div",{className:"card-text icons"},l.a.createElement("p",null,l.a.createElement("span",null,o),l.a.createElement(b.a,{icon:E.a,color:"#003366",size:"2x"})),l.a.createElement("p",null,l.a.createElement("span",null,s),l.a.createElement(b.a,{icon:E.c,color:"#003366",size:"2x"})),l.a.createElement(v.a,{to:"/map?id=".concat(c),style:{textAlign:"right"}},l.a.createElement(b.a,{icon:E.b,color:"#003366"}),"view on map")),l.a.createElement("a",{href:n},l.a.createElement("button",{className:"btn btn--block card__btn"},"Check it out")))))}}]),t}(s.Component),T=(a(206),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).results=function(){return a.props.houses.map(function(e){return l.a.createElement(w,{house:e,key:e._id})})},a.state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return 0===this.props.houses.length?l.a.createElement("div",{className:"empty"},":( No Houses Available at this Moment"):l.a.createElement("ul",{className:"results-wrapper"},this.results())}}]),t}(s.Component)),j=(a(208),a(78)),O=a(442),k=(a(210),[{value:"--",label:"--"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"}]),N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).state={bedNum:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"query"},l.a.createElement("div",{className:"queries"}),l.a.createElement("div",{className:"queries"},"filter by bedrooms",l.a.createElement(j.a,{value:this.props.bedChoice,onChange:this.props.handleChange,options:k})),l.a.createElement("div",{className:"queries"},"filter by house type",l.a.createElement(O.a,{className:"checkboxes"},l.a.createElement(O.a.Group,{controlId:"apartment"},l.a.createElement(O.a.Check,{type:"checkbox",label:"apartment",name:"typeApartment",checked:this.props.typeApartment,onChange:this.props.filterHomeType})),l.a.createElement(O.a.Group,{controlId:"house"},l.a.createElement(O.a.Check,{type:"checkbox",label:"house",name:"typeHouse",checked:this.props.typeHouse,onChange:this.props.filterHomeType})))))}}]),t}(s.Component),C=a(181),S=a.n(C),H=a(82),_=a.n(H),M=function(){return _.a.get("/api/houses")},A=function(e){return _.a.get("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(e,",+kingston+ontario&key=AIzaSyDsqSHrfGXsJxjEjpKTNP2IfYgYToNkp_o"))},I=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).componentDidMount=function(){M().then(function(e){a.setState({houses:e.data,houses_db:e.data})})},a.updateResults=function(){var e=[],t=[];if(!0===a.state.typeApartment||!0===a.state.typeApartment)for(var n=0;n<a.state.houses_db.length;n++)!0===a.state.typeApartment&&"apartment"===a.state.houses_db[n].type&&e.push(a.state.houses_db[n]),!0===a.state.typeHouse&&"house"===a.state.houses_db[n].type&&e.push(a.state.houses_db[n]);else e=a.state.houses_db;if("--"!==a.state.bedChoice.value)for(var o=0;o<e.length;o++)a.state.bedChoice.value===e[o].beds&&t.push(e[o]);else for(var s=0;s<e.length;s++)t.push(e[s]);a.setState({houses:t})},a.handleChange=function(e){a.setState({bedChoice:e},function(){return a.updateResults()})},a.filterHomeType=function(e){var t=e.target,n=t.checked,o=t.name;a.setState(Object(f.a)({},o,n),function(){return a.updateResults()})},a.state={houses_db:null,houses:null,bedChoice:{value:"--",label:"--"},house:{lat:null,lng:null},typeApartment:!1,typeHouse:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.state.houses?l.a.createElement("div",{className:"homepage-wrapper"},l.a.createElement("div",{className:"homepage"},l.a.createElement(N,{handleChange:this.handleChange,bedChoice:this.state.bedChoice,typeApartment:this.state.typeApartment,typeHouse:this.state.typeHouse,filterHomeType:this.filterHomeType}),l.a.createElement(T,{houses:this.state.houses,map:this.state.map,toggleMap:this.toggleMap,setHouseMarker:this.setHouseMarker}))):l.a.createElement("div",{className:"loader-wrapper"},l.a.createElement(S.a,{type:"pacman"}))}}]),t}(s.Component),x=a(83),L=a(52),D=[{mapTypeControl:!1},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"administrative.neighborhood",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.fill",stylers:[{color:"#7fd8de"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{color:"#70989c"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#53d8f0"},{visibility:"on"}]}],G=Object(x.a)(Object(x.c)({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyDsqSHrfGXsJxjEjpKTNP2IfYgYToNkp_o&v=3.exp&libraries=geometry,drawing,places",loadingElement:l.a.createElement("div",{style:{height:"100%"}}),containerElement:l.a.createElement("div",{style:{height:"100%"}}),mapElement:l.a.createElement("div",{style:{height:"100%"}}),center:{lat:44.22862,lng:-76.502105},zoom:14}),L.withScriptjs,L.withGoogleMap,Object(x.b)({componentDidMount:function(){var e=this;(new window.google.maps.DirectionsService).route({origin:new window.google.maps.LatLng(this.props.house.lat,this.props.house.lng),destination:new window.google.maps.LatLng(this.props.house.lat,this.props.house.lng),travelMode:window.google.maps.TravelMode.WALKING},function(t,a){a===window.google.maps.DirectionsStatus.OK?e.setState({directions:t}):console.error("error fetching directions ".concat(t))})},componentDidUpdate:function(){var e=this;(new window.google.maps.DirectionsService).route({origin:new window.google.maps.LatLng(this.props.house.lat,this.props.house.lng),destination:new window.google.maps.LatLng(this.props.destination.value.lat,this.props.destination.value.lng),travelMode:window.google.maps.TravelMode.WALKING},function(t,a){a===window.google.maps.DirectionsStatus.OK?e.setState({directions:t}):console.error("error fetching directions ".concat(t))})}}))(function(e){return l.a.createElement("div",{style:{height:"100%",position:"relative"}},l.a.createElement(L.GoogleMap,{zoom:e.zoom,center:e.center,ref:e.zoomToMarkers,defaultOptions:{styles:D,minZoom:11,mapTypeControl:!0,mapTypeControlOptions:{style:{},mapTypeIds:["roadmap","satellite"]}}},e.directions&&l.a.createElement(L.DirectionsRenderer,{directions:e.directions})))}),R=(a(433),[{value:{lat:44.233335,lng:-76.492775},label:"THE HUB"},{value:{lat:44.227699,lng:-76.495277},label:"QUEENS UNIVERSITY"},{value:{lat:44.232056,lng:-76.485739},label:"DOWNTOWN"}]),U=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).setHouseMarker=function(e){A(e).then(function(e){a.setState({house_location:e.data.results[0].geometry.location})})},a.handleLocationChange=function(e){a.setState({distanceTo:e},function(){return console.log(a.state.distanceTo)})},a.state={house_location:{lat:-44.232056,lng:-76.485739},house:null,distanceTo:{value:{lat:44.227699,lng:-76.495277},label:"QUEENS UNIVERSITY"}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,a=this.props.location.search.split("=")[1];(e=a,_.a.post("/api/houses",{id:e})).then(function(e){t.setState({house:e.data},function(){return t.setHouseMarker(t.state.house.address)})})}},{key:"render",value:function(){return l.a.createElement("div",{className:"map-view"},l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(v.a,{to:"/"}," ","<---"," Back")),l.a.createElement("div",{className:"content"},this.state.house&&l.a.createElement("div",{style:{paddingTop:"10%"}},l.a.createElement(w,{house:this.state.house,single:!0})),l.a.createElement("div",{style:{padding:"1rem"}},l.a.createElement("div",{className:"map-filter"},l.a.createElement("div",null,"A: future house"),l.a.createElement("div",{className:"select"},"B:"," ",l.a.createElement(j.a,{value:this.state.distanceTo,onChange:this.handleLocationChange,options:R}))),l.a.createElement(G,{house:this.state.house_location,destination:this.state.distanceTo}))))}}]),t}(s.Component),q=(a(435),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"app-wrapper"},l.a.createElement(h,null),l.a.createElement(d.a,null,l.a.createElement(g.a,{exact:!0,path:"/",component:I}),l.a.createElement(g.a,{path:"/map",component:U})))}}]),t}(s.Component)),z=Object(y.a)(q),B=l.a.createElement(r.a,{onUpdate:function(){return window.scrollTo(0,0)}},l.a.createElement(z,null));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(B,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[186,2,1]]]);
//# sourceMappingURL=main.3f96b3ad.chunk.js.map